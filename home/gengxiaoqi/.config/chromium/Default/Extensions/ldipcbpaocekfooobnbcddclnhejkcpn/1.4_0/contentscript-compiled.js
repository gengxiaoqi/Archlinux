var m=function(a,b){return a.charCodeAt(b)&255|(a.charCodeAt(b+1)&255)<<8|(a.charCodeAt(b+2)&255)<<16|(a.charCodeAt(b+3)&255)<<24},p=Math.imul||function(a,b){var f=a&65535,B=b&65535;return f*B+((a>>>16&65535)*B+f*(b>>>16&65535)<<16>>>0)|0},q=function(a,b){return a<<b|a>>>32-b},r=function(a){a=p(a^a>>>16,2246822507);a^=a>>>13;a=p(a,3266489909);return a^=a>>>16},t=function(a){a=(a>>>0).toString(16);return"00000000".substr(a.length)+a};var aa={creators_name:"author",creator:"author",contributor:"author",issued:"publication_year",publication_date:"publication_year",date:"year"},ba={"abstract":1,description:1,keyword:1,keywords:1,reference:1},ca=/^.*_(url|email|institution)$/,da=/  +/g,ea=/[?&]oi=([^&]+)/,v=function(a){return a.replace(/[-+":]/g," ").substr(0,500)},w=function(a,b,f){a=aa[a]||a;!b||ba[a]||ca.test(a)||f.push(encodeURIComponent(a)+"="+encodeURIComponent(b))},ga=function(a){for(var b=fa;b;){var f=a[b];if(f)return f;f=
b.indexOf(".");if(0>f)break;b=b.substr(f+1)}},x="innerText"in document.documentElement?function(a){return a.innerText}:function(a){if(1==a.nodeType){var b=document.defaultView.getComputedStyle(a);return"none"==b.display||"hidden"==b.visibility||0>=parseFloat(b.fontSize)||0>=parseFloat(b.opacity)?"":Array.prototype.map.call(a.childNodes,x).join(" ").replace(da," ")}return a.textContent};var ia=function(){var a=ha;function b(a){for(var d=1463435680,b=1463435680,c=1463435680,e=1463435680,g=0,h=0,k=0,l=0,f=a.length,n=f>>4<<4,u=0;u<n;u+=16)g=m(a,u),h=m(a,u+4),k=m(a,u+8),l=m(a,u+12),g=p(g,597399067),g=q(g,15),g=p(g,2869860233),d^=g,d=q(d,19),d+=b,d=5*d+1444728091>>>0,h=p(h,2869860233),h=q(h,16),h=p(h,951274213),b^=h,b=q(b,17),b+=c,b=5*b+197830471>>>0,k=p(k,951274213),k=q(k,17),k=p(k,2716044179),c^=k,c=q(c,15),c+=e,c=5*c+2530024501>>>0,l=p(l,2716044179),l=q(l,18),l=p(l,597399067),e^=l,
e=q(e,13),e+=d,e=5*e+850148119>>>0;l=k=h=g=0;switch(f&15){case 15:l^=(a.charCodeAt(n+14)&255)<<16;case 14:l^=(a.charCodeAt(n+13)&255)<<8;case 13:l^=(a.charCodeAt(n+12)&255)<<0,l=p(l,2716044179),l=q(l,18),l=p(l,597399067),e^=l;case 12:k^=(a.charCodeAt(n+11)&255)<<24;case 11:k^=(a.charCodeAt(n+10)&255)<<16;case 10:k^=(a.charCodeAt(n+9)&255)<<8;case 9:k^=(a.charCodeAt(n+8)&255)<<0,k=p(k,951274213),k=q(k,17),k=p(k,2716044179),c^=k;case 8:h^=(a.charCodeAt(n+7)&255)<<24;case 7:h^=(a.charCodeAt(n+6)&255)<<
16;case 6:h^=(a.charCodeAt(n+5)&255)<<8;case 5:h^=(a.charCodeAt(n+4)&255)<<0,h=p(h,2869860233),h=q(h,16),h=p(h,951274213),b^=h;case 4:g^=(a.charCodeAt(n+3)&255)<<24;case 3:g^=(a.charCodeAt(n+2)&255)<<16;case 2:g^=(a.charCodeAt(n+1)&255)<<8;case 1:g^=(a.charCodeAt(n+0)&255)<<0,g=p(g,597399067),g=q(g,15),g=p(g,2869860233),d^=g}b^=f;c^=f;e^=f;d=(d^f)+b;d+=c;d+=e;b+=d;c+=d;e+=d;d=r(d);b=r(b);c=r(c);e=r(e);d+=b;d+=c;d+=e;b+=d;c+=d;e+=d;return 0<=",001fde309095b539,0185b8df4ac2f854,04a92f8c063fc87a,0683146df3567555,0ac877b4c0a3205f,0bcca1071aefa33b,0d784cf85154f1cf,0f4bcccbd8c561ac,107b135de44ac922,13a8259a5ab34e58,1414dca5ec4e1c2c,155020036a9f8ea5,1a5df52f5ea416a6,1a99fcc2e8fb347c,21de91bffcc7c1e6,22f15c1ddc8521a1,230884e2eff4d081,24161b41ba32df27,25024107d83ae836,267083cef39376db,2733d3b278ac8e32,27b4c4de40410e5a,2831a98089aa8dc4,29506a7448ded562,29fa11065b708b1d,2a33db0f6c2da04e,2b23aef8e3e91f30,2c7b6ecc2325446b,2d9a21f3fd2ef7d2,2e0d4f430297f1a1,31278be6c8f8aca2,347a06499e62e3df,366422dbaa0a4748,37baa9424345fd38,37e7d3928d33461a,3df33e342cee4bab,42c114ead5c10d68,4495d017442c4c10,4a69abb3135f6283,4a9cd50296b8c5d7,4fc30abdd64d6736,50e55854a880f685,514d0132e3115710,5366fd147b8e9d33,594f47350c2e20c0,596a4abf2c6f6f0b,5ac0a209599257cf,5c72860e547304c5,6153af1ff96193c7,65a826a8bfff3de7,670b5ca33a9726fb,695c222931a0bdc6,6b18f38643bb0885,6b58848606d74a7f,6c4564e057a04c0d,6ce471fb1c1f15f9,6e74751c30954370,72647788a1e6ac0d,7c43b63e8b467f82,82248bcc57515e86,8a910090d56bb846,974b0da894938100,9d6d8eab29cc6cd6,a2cbece521a6b706,a517803359d9da0f,a55e99e6d6e60142,a6cf3be4f72d5fca,a80ad1ae260b439b,a9653c11711b139b,aca51ebd970ea9db,ad3ad05c5d030ff1,adf7c1b725ebe04e,b49dec64c7d855aa,b785bc231e43134b,b92e1376543888cb,bad782d308f6ee8f,bb7f972a836d70b1,bc7f7464ca755854,bd7757bfefd4766c,bdc646ef43dff7f9,c1a10b4b5a2bab63,d9de8121c5ee95a2,de67b75eb5b60f70,e2a678e43b9f4f81,e42f4c587f6ceafd,e45711b5b0526b1d,e73fb2bb1b366aef,e75621876b084945,ee771c4e62b9f90c,ef1a7f2680a18753,f01b75960be4ddd4,f1029a3eed96e197,f28aa283c1f50662,f6c02b415ca52cad,f6e9ddd0c9eeb7f1,f78f8569d136a7a1,f7de21fb87b1df56,fc0daea00ec98740,fc82e65d8feb8077,fda729397d9a56d5,".indexOf(","+
(t(d)+t(b)+t(c)+t(e)).substr(0,16)+",")}if(a.replace(/^(.*?)[.](com|[a-z]{2}|(com|co)[.][a-z]{2})$/,"$1").match(/^(.*[.])?(google|yahoo|yandex|amazon|ebay|craigslist)$/))return!1;var f=a.replace(/^(.*[.])?([a-z0-9-]+[.][a-z-]{2,})$/,"$2"),a=a.replace(/^(.*[.])?([a-z0-9-]+([.][a-z-]{2,}){2})$/,"$2");return!b(f)&&!b(a)};var ha=location.hostname,y,ja=window.getSelection()+"";
if(!(y=ja&&"scholar?oi=gsb90&q="+encodeURIComponent(v(ja))))a:{for(var la=/<(p|br)>|<\/.*>|<.*\/>/i,ma=/<[^>]+>/g,z=document.getElementsByTagName("meta"),na=[],oa=[],pa=[],qa=[],A=[],ra=/[.-]/g,C=0,sa=z.length;C<sa;++C){var D=(z[C].name||"").toLowerCase().replace(ra,"_"),E,F=z[C].content||"";E=F.match(la)?F.replace(ma,""):F;0==D.indexOf("citation_")?w(D.substr(9),E,na):0==D.indexOf("eprints_")?w(D.substr(8),E,oa):0==D.indexOf("bepress_citation_")?w(D.substr(17),E,pa):0==D.indexOf("wkhealth_")?w(D.substr(9),
E,qa):0==D.indexOf("dc_")?w(D.substr(3),E,A):0==D.indexOf("dcterms_")&&w(D.substr(8),E,A)}for(var ta=[na,oa,pa,qa,A],ua=/^author=/,va=/.*[?&]title=/,G=0;G<ta.length;++G){for(var H=ta[G],wa=[],xa=0,I=0;I<H.length;++I)(!ua.test(H[I])||5>=++xa)&&wa.push(H[I]);var ya="scholar_lookup?oi=gsb80&"+wa.join("&");if(va.test(ya)){y=ya;break a}}y=void 0}var J;
if(!(J=y)){var K=document,za=K.querySelectorAll("[itemscope][itemtype$=ScholarlyArticle] [itemprop=headline]"),Aa=1==za.length&&x(za[0]);if(Aa){var Ba=K.querySelectorAll("[itemscope][itemtype$=ScholarlyArticle] [itemprop=author] [itemprop=name]"),Ca=K.querySelectorAll("[itemscope][itemtype$=ScholarlyArticle] [itemprop=datePublished]"),L=[],Da=0,M;w("title",Aa+"",L);for(var N=0,Ea=Ba.length;N<Ea;++N)if(M=x(Ba[N])){if(5<++Da)break;w("author",M,L)}1==Ca.length&&(M=x(Ca[0]))&&w("publication_year",M,L);
J="scholar_lookup?oi=gsb70&"+L.join("&")}else J=void 0}var O;
if(!(O=J)){var P=location.href,Q=P.match(/^.*[.\/](google|bing|twitter)[.].*[?&#]q=([^&]+).*$/)||P.match(/^.*[.\/]yahoo[.].*[?&#]p=([^&]+).*$/)||P.match(/^.*[.\/]baidu[.].*[?&#]wd=([^&]+).*$/)||P.match(/^.*[.\/]naver[.].*[?&#]query=([^&]+).*$/)||P.match(/^.*[.\/]yandex[.].*[?&#]text=([^&]+).*$/)||P.match(/^.*[.\/]ncbi[.]nlm[.]nih[.]gov\/.*[?&#]term=([^&]+).*$/);O=Q&&"scholar?oi=gsb40&q="+encodeURIComponent(decodeURIComponent(Q[Q.length-1].replace(/[+]/g,"%20")))}var R;
if(!(R=O)){var S;if(S=ia()){for(var fa=ha,T=document,Fa=T.defaultView||window,Ga=T.body.getBoundingClientRect(),Ha=T.querySelectorAll(ga({"ebscohost.com":"#content .citation-title","webofknowledge.com":".title value","grin.com":"h1"})||"h1, h2, h3"),U=0,V="h9",W="",Ia=ga({"degruyter.com":"#masthead .pub-title","journals.aps.org":"#header .title"}),Ja=0,Ka=Ha.length;Ja<Ka;++Ja){var X=Ha[Ja];if(!Ia||!(X.matches||X.mozMatchesSelector||X.webkitMatchesSelector).call(X,Ia)){var La=x(X);if(!(10>La.length)){var Y=
X.getBoundingClientRect();if(!(Y.top>1E3+Ga.top||100>Y.right-Y.left||10>Y.bottom-Y.top)){var Ma=Fa.getComputedStyle(X);if(!("hidden"==Ma.visibility||0>=parseFloat(Ma.opacity))){var Na=parseFloat(Ma.fontSize),Oa=X.tagName.toLowerCase();if(Na!=U?Na>U:Oa!=V?Oa<V:La.length>W.length)U=Na,V=Oa,W=La}}}}}var Pa;if(!(Pa=W&&"scholar?oi=gsb20&q="+encodeURIComponent(v(W)))){var Z=document,Qa=Z.querySelectorAll("[itemscope][itemtype$=Article] [itemprop=name]"),Ra=1==Qa.length&&x(Qa[0]),Sa=Z.querySelectorAll("meta[property=og\\:title], meta[name=og\\:title]"),
Ta=1==Sa.length&&Sa[0].content,Ua=Ra||Ta||Z.title;Pa=!Ua||Ua==Z.title&&"application/pdf"==Z.contentType?void 0:"scholar?oi=gsb10&q="+encodeURIComponent(v(Ua))}S=Pa}R=S}
(function(a){function b(a,b){if(b){var d="scholar?oi=gsb85&q="+encodeURIComponent(v(b+"")),c=a,e=(d.match(ea)||["",""])[1],f=(c.match(ea)||["",""])[1];(e!=f?e>f:d.length>c.length)&&(a=d)}chrome.runtime.sendMessage(a)}function f(c){(c=c.data)&&"object"==typeof c&&"getSelectedTextReply"==c.type&&(d(),b(a,c.selectedText))}function B(){window.addEventListener("message",f);e=setTimeout(function(){e=void 0;d();b(a+(0<=a.indexOf("?")?"&":"?")+"ct=emb")},400)}function d(){window.removeEventListener("message",
f);clearTimeout(e)}var ka=document.documentElement,c=document.getElementsByTagName("embed")[0],e;if(c&&c.clientWidth>=.9*ka.clientWidth&&c.clientHeight>=.9*ka.clientHeight){if("application/pdf"==c.type||"application/x-google-chrome-pdf"==c.type){if(42<=parseFloat((/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[])[1])){B();c.postMessage({type:"getSelectedText"});return}if(c.getSelectedText){b(a,c.getSelectedText());return}}a=a+(0<=a.indexOf("?")?"&":"?")+"ct=emb"}b(a)})(R||"");
