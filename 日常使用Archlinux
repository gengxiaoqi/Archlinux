ç½‘ç»œï¼šNetWorkManager
# æ£€æŸ¥æœåŠ¡ï¼šsystemctl status NetworkManager
# å¯åŠ¨æœåŠ¡ï¼šsystemctl enable --now NetworkManager
# nmcli device wifi connect **** -a
# è¿æ¥ Wi-Fiï¼ˆå¦‚æœè¿˜æ²¡è¿ï¼‰ï¼šæ‰§è¡Œ nmtui å¼€å¯å¯è§†åŒ–è¿æ¥ç•Œé¢ã€‚

é…ç½®ç”¨æˆ·æƒé™(sudo)
# æ·»åŠ ç”¨æˆ·ï¼šuseradd -m -G wheel -s /bin/zsh bulibuli
# è®¾ç½®å¯†ç ï¼špasswd bulibuli
# èµ‹äºˆsudoæƒé™ï¼šæ‰§è¡Œvisudoï¼Œæ‰¾åˆ°ä¸‹é¢è¿™ä¸€è¡Œå¹¶åˆ æ‰å‰é¢çš„ # æ³¨é‡Šï¼š %wheel ALL=(ALL:ALL) ALL

å®‰è£…yay
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si

å®‰è£…æ˜¾å¡é©±åŠ¨
# 3D å›¾å½¢æ”¯æŒ (OpenGL/Vulkan)
sudo pacman -S mesa vulkan-intel
# è§†é¢‘ç¡¬ä»¶åŠ é€Ÿ (éå¸¸é‡è¦ï¼Œå¦åˆ™ Wayland ä¸‹æµè§ˆå™¨çœ‹è§†é¢‘ CPU å ç”¨æé«˜)
sudo pacman -S intel-media-driver libva-utils
# Intel: sudo pacman -S mesa lib32-mesa
# AMD: sudo pacman -S mesa lib32-mesa xf86-video-amdgpu
# NVIDIA: sudo pacman -S nvidia nvidia-utils

å¼€å¯â€œæ—©æœŸå¾®å†…æ ¸åŠ è½½â€(Early KMS) â€”â€” å…³é”®æ­¥éª¤
# åœ¨ Wayland ç¯å¢ƒä¸‹ï¼Œä¸ºäº†è®©ç³»ç»Ÿä»å¯åŠ¨çš„ç¬¬ä¸€ç§’å°±è·å¾—æ­£ç¡®çš„å±å¹•åˆ†è¾¨ç‡ï¼Œå¹¶é¿å…è¿›å…¥æ¡Œé¢æ—¶é—ªé»‘å±ï¼Œå»ºè®®å¼€å¯ Early KMSï¼š
# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼šsudo nano /etc/mkinitcpio.conf
# æ‰¾åˆ° MODULES=(...) è¿™ä¸€è¡Œï¼Œæ·»åŠ  i915ï¼š
# MODULES=(i915)
# é‡æ–°ç”Ÿæˆé•œåƒï¼šsudo mkinitcpio -P

å±å¹•ç¼©æ”¾ (HiDPI)
# å¦‚æœä½ ä½¿ç”¨çš„æ˜¯é«˜åˆ†å±ï¼ˆå¦‚ 2K/4K ç¬”è®°æœ¬ï¼‰ï¼ŒWayland å¤„ç†ç¼©æ”¾æ¯” X11 ä¼˜ç§€å¾—å¤šã€‚ åœ¨ Sway é…ç½®æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥ç›´æ¥æŒ‡å®šï¼š
vim ~/.config/sway/config
  output <è¾“å‡ºåç§°> scale 1.5

æµè§ˆå™¨ç¡¬ä»¶åŠ é€Ÿ
# åœ¨ Wayland ä¸‹ä½¿ç”¨ Chrome æˆ– Firefoxï¼Œå³ä½¿è£…äº†é©±åŠ¨ï¼Œé»˜è®¤ä¹Ÿå¯èƒ½ä¸è°ƒç”¨ GPU è§£ç ã€‚
# Firefox: ç¯å¢ƒå˜é‡è®¾ç½® MOZ_ENABLE_WAYLAND=1ã€‚
# Chrome/Edge: åœ¨åœ°å€æ è¾“å…¥ chrome://flagsï¼Œæœç´¢ Ozone å¹¶å°† Preferred Ozone platform è®¾ä¸º Waylandã€‚

ç¯å¢ƒå˜é‡è®¾ç½®
# ä¸ºäº†è®©å„ç§å¼€å‘å·¥å…·ï¼ˆå¦‚ Qt/GTK è½¯ä»¶ï¼‰åŸç”Ÿè¿è¡Œåœ¨ Wayland ä¸Šè€Œéé€šè¿‡ XWayland è½¬æ¢ï¼Œå»ºè®®åœ¨ /etc/environment ä¸­åŠ å…¥ï¼š
# XDG_SESSION_TYPE=wayland
# GDK_BACKEND=wayland
# QT_QPA_PLATFORM=wayland

æ£€æŸ¥æ˜¯å¦åœ¨ Wayland ä¸‹æ­£ç¡®è°ƒç”¨äº† Intel æ˜¾å¡ï¼Ÿ
# å®‰è£…å·¥å…·ï¼šsudo pacman -S libva-utils intel-gpu-tools
# æ£€æŸ¥ç¡¬ä»¶åŠ é€ŸçŠ¶æ€ï¼š æ‰§è¡Œ vainfoã€‚ å¦‚æœçœ‹åˆ°å¤§é‡ç±»ä¼¼ VAEntrypointVLD çš„åˆ—è¡¨ï¼Œè¯´æ˜ä½ çš„ Intel è§†é¢‘åŠ é€Ÿå·²å°±ç»ªã€‚
# å®æ—¶æŸ¥çœ‹æ˜¾å¡è´Ÿè½½ï¼š æ‰§è¡Œ sudo intel_gpu_topã€‚ æ‰“å¼€ç½‘é¡µè§†é¢‘æˆ– Sway ç•Œé¢æ—¶ï¼Œä½ å¯ä»¥çœ‹åˆ° Render/3D å’Œ Video å¼•æ“çš„å ç”¨ç™¾åˆ†æ¯”ã€‚

å¼€å¯æ˜¾ç¤ºç®¡ç†å™¨ (ç™»å½•ç•Œé¢)
sudo pacman -S sddm
sudo systemctl enable sddm

ä¸­æ–‡ç¯å¢ƒä¼˜åŒ–
# è¿›å…¥å›¾å½¢ç•Œé¢åï¼Œä½ éœ€è¦è§£å†³ä¸­æ–‡æ˜¾ç¤ºå’Œè¾“å…¥é—®é¢˜ï¼š
# å®‰è£…ä¸­æ–‡å­—ä½“ï¼š sudo pacman -S wqy-microhei wqy-zenhei noto-fonts-cjk
# å®‰è£…è¾“å…¥æ³•ï¼ˆæ¨è Fcitx5ï¼‰ï¼š sudo pacman -S fcitx5-im fcitx5-chinese-addons fcitx5-pinyin-zhwiki fcitx5-configtool fcitx5-material-color
# fcitx5-im: åŸºç¡€åŒ…ç»„ï¼ˆåŒ…å«æ ¸å¿ƒå’Œä¸»è¦çš„è¾“å…¥æ¨¡å—ï¼‰ã€‚
# fcitx5-chinese-addons: åŒ…å«æ‹¼éŸ³å’Œäº”ç¬”ã€‚
# fcitx5-pinyin-zhwiki: (å¯é€‰) ç»´åŸºç™¾ç§‘è¯åº“ï¼Œè®©è”æƒ³è¯æ›´æ™ºèƒ½ã€‚
# fcitx5-configtool: å›¾å½¢åŒ–é…ç½®ç•Œé¢ã€‚
# é…ç½® Localeï¼šå°† /etc/locale.conf æ”¹ä¸º LANG=zh_CN.UTF-8ã€‚
sudo nvim /etc/environment
# åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
GTK_IM_MODULE=fcitx
QT_IM_MODULE=fcitx
XMODIFIERS=@im=fcitx
SDL_IM_MODULE=fcitx
GLFW_IM_MODULE=ibus
# æ³¨æ„ï¼šåœ¨çº¯åŸç”Ÿ Wayland åº”ç”¨ä¸­ï¼Œæœ‰äº›åº”ç”¨å¯èƒ½ä¸å†ä¾èµ– GTK_IM_MODULE è€Œæ˜¯ç›´æ¥é€šè¿‡ Wayland çš„è¾“å…¥åè®®ï¼Œä½†ä¸ºäº†å…¼å®¹æ€§ï¼Œä¸Šè¿°è®¾ç½®ä»æ˜¯å¿…éœ€çš„ã€‚
# ç¼–è¾‘ ~/.config/sway/configï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ ï¼š
exec fcitx5 -d
# -d å‚æ•°è¡¨ç¤ºä»¥å®ˆæŠ¤è¿›ç¨‹ (Daemon) æ¨¡å¼è¿è¡Œã€‚

# å¦‚æœä½ ç»å¸¸éœ€è¦åœ¨ TTY ä¸‹é•¿æ—¶é—´å·¥ä½œï¼ˆæ¯”å¦‚æ²¡æœ‰å›¾å½¢ç•Œé¢çš„æ—¶å€™ï¼‰ï¼Œå»ºè®®æŠŠ ç»ˆç«¯å­—ä½“ ä¹Ÿè°ƒå¤§ä¸€ç‚¹ï¼Œè¿™æ ·é…åˆæ”¹å¥½çš„ Ctrl é”®ï¼Œä½“éªŒä¼šå¥½å¾ˆå¤šï¼š åœ¨ /etc/vconsole.conf ä¸­æ·»åŠ ï¼š
# FONT=ter-v32b  # éœ€è¦å®‰è£… terminus-font åŒ…ï¼Œè¿™æ˜¯å…¬è®¤ TTY ä¸‹æœ€å¥½çœ‹çš„å­—ä½“ä¹‹ä¸€
# ter-v24b çš„å…·ä½“å«ä¹‰
# è¿™æ˜¯ä¸€ç§ä¸“ä¸ºé«˜åˆ†è¾¨ç‡å±å¹•è®¾è®¡çš„ä½å›¾å­—ä½“ï¼Œæ‹†è§£å¦‚ä¸‹ï¼š
# ter: ä»£è¡¨ Terminus å­—ä½“å®¶æ—ï¼ˆè¿™æ˜¯ Linux TTY ä¸‹å…¬è®¤æœ€æ¸…æ™°ã€é˜…è¯»ä½“éªŒæœ€å¥½çš„å­—ä½“ä¹‹ä¸€ï¼‰ã€‚
# -v: ä»£è¡¨å­—ç¬¦é›†ç¼–ç ã€‚v é€šå¸¸å¯¹åº” Version æˆ–ç‰¹å®šçš„ VGA/Unicode æ˜ å°„ã€‚
# 24: ä»£è¡¨å­—å·ï¼ˆSizeï¼‰ã€‚åœ¨è¿™é‡Œæ˜¯ 24 åƒç´ é«˜ã€‚å¯¹äº 1080p æˆ– 2K å±å¹•ï¼Œ24 æˆ– 28 çš„å¤§å°èƒ½è®©ä½ çœ‹æ¸…æ–‡å­—ï¼Œä¸è‡³äºçœ¯ç€çœ¼ç›ï¼Œæœ€å¤§32
# b: ä»£è¡¨ Boldï¼ˆåŠ ç²—ï¼‰ã€‚æ§åˆ¶å°å­—ä½“é€šå¸¸æœ‰ n (normal) å’Œ b (bold) ä¹‹åˆ†ã€‚
# å®æ—¶åˆ‡æ¢å­—ä½“æµ‹è¯•
setfont ter-v24b
setfont ter-v32b

åœ¨TTYä¸‹æŠŠCapslockæ¢æˆControlé”®ï¼Œç›´æ¥ä¿®æ”¹é»˜è®¤ US å¸ƒå±€
# å¦‚æœä½ è§‰å¾—ä¸Šé¢çš„æ–¹æ³•éƒ½å¤ªéº»çƒ¦ï¼Œå¯ä»¥ç›´æ¥å»ä¿®æ”¹ç³»ç»Ÿé»˜è®¤çš„ us å¸ƒå±€æ–‡ä»¶ï¼ˆè™½ç„¶è¿™ç§åšæ³•ä¸é‚£ä¹ˆâ€œä¼˜é›…â€ï¼Œä½†ç»å¯¹æœ‰æ•ˆï¼‰ã€‚
# æ‰¾åˆ°é»˜è®¤å¸ƒå±€æ–‡ä»¶ï¼š é€šå¸¸åœ¨ /usr/share/kbd/keymaps/i386/qwerty/us.map.gzã€‚
# è§£å‹å¹¶ä¿®æ”¹ï¼š
cd /tmp
gzip -d -c /usr/share/kbd/keymaps/i386/qwerty/us.map.gz > us_fixed.map
# ç¼–è¾‘ us_fixed.mapï¼š æ‰¾åˆ° keycode 58 = Caps_Lockï¼Œæ”¹ä¸º keycode 58 = Controlã€‚
# æ›¿æ¢å›ç³»ç»Ÿç›®å½•ï¼š
gzip us_fixed.map
sudo cp us_fixed.map.gz /usr/share/kbd/keymaps/i386/qwerty/us.map.gz
# ç„¶ååœ¨ /etc/vconsole.conf ä¸­ä¿æŒ KEYMAP=us å³å¯ã€‚
# ä¸ºäº†ç¡®ä¿åœ¨ç³»ç»Ÿå¯åŠ¨çš„æœ€æ—©æœŸé˜¶æ®µå°±åŠ è½½è¿™ä¸ªé…ç½®ï¼Œå¿…é¡»æ›´æ–° initramfs:
sudo mkinitcpio -P
reboot
# é’ˆå¯¹ Sway ç¯å¢ƒï¼ˆWayland è®¾ç½®ï¼‰
# å½“ä½ è¾“å…¥ sway è¿›å…¥æ¡Œé¢åï¼ŒSway ä¼šæ¥ç®¡é”®ç›˜é©±åŠ¨ï¼Œä¸å†ç†ä¼š TTY çš„è®¾ç½®ã€‚ä½ éœ€è¦ä¿®æ”¹ Sway çš„é…ç½®æ–‡ä»¶ï¼š
# ç¼–è¾‘é…ç½®ï¼šnvim ~/.config/sway/config
# æ·»åŠ è¾“å…¥è§„åˆ™ï¼š
# ä»£ç æ®µ
# input "type:keyboard" {
#     xkb_options ctrl:nocaps
# }
# å¦‚æœä½ æƒ³è®©å·¦ Ctrl å˜æˆ Caps Lockï¼ˆå³äº¤æ¢ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ ctrl:swapcapsã€‚
# é‡è½½é…ç½®ï¼šæŒ‰ä¸‹ $mod+Shift+c ç«‹å³ç”Ÿæ•ˆã€‚

tmux æ˜¯ç°ä»£ Linux ç”¨æˆ·çš„é¦–é€‰ã€‚å®ƒä¸ä»…èƒ½è®©ä½ åœ¨ TTY é‡Œæ¨ªå‘ã€çºµå‘åˆ†å±ï¼Œè¿˜èƒ½è®©ä½ åœ¨æ‰çº¿æˆ–é€€å‡ºåï¼Œé‡æ–°è¿æ¥å¹¶æ‰¾å›ä¹‹å‰çš„ä¼šè¯ã€‚
# å¸¸ç”¨å¿«æ·é”®ï¼ˆé»˜è®¤å‰ç¼€é”®æ˜¯ Ctrl+bï¼‰ï¼š
# æ°´å¹³åˆ†å±ï¼šCtrl+b ç„¶åæŒ‰ "
# å‚ç›´åˆ†å±ï¼šCtrl+b ç„¶åæŒ‰ %
# åˆ‡æ¢çª—å£ï¼šCtrl+b ç„¶åæŒ‰ æ–¹å‘é”®
# å…³é—­å½“å‰åˆ†å±ï¼šè¾“å…¥ exit æˆ– Ctrl+d
# è°ƒæ•´åˆ†å±å¤§å°ï¼šæŒ‰ä½ Ctrl+b çš„åŒæ—¶æŒ‰ æ–¹å‘é”®

å®‰è£…æ¡Œé¢ç¯å¢ƒ (DE) æˆ–çª—å£ç®¡ç†å™¨ (WM)
sudo pacman -S sway foot waybar wofi

å®Œæ•´çš„ PipeWire éŸ³é¢‘æ–¹æ¡ˆ
# ä¸ºäº†åœ¨ Sway ä¸‹è·å¾—æœ€ä½³ä½“éªŒï¼Œå»ºè®®ä¸€æ¬¡æ€§è£…é½ï¼š
sudo pacman -S pipewire pipewire-pulse pipewire-alsa pipewire-jack wireplumber
# pipewire-pulse: æ›¿æ¢è€æ—§çš„ PulseAudioã€‚
# pipewire-alsa: è®©åªæ”¯æŒ ALSA çš„è€è½¯ä»¶ä¹Ÿèƒ½å‘å£°ã€‚
# wireplumber: å¿…è£…ï¼Œå®ƒæ˜¯ PipeWire çš„â€œå¤§è„‘â€ï¼Œè´Ÿè´£è‡ªåŠ¨è¿æ¥ä½ çš„è€³æœºå’Œæ‰¬å£°å™¨ã€‚
# ğŸ’¡ ä¸€ä¸ªæœ‰ç”¨çš„å°å·¥å…·
# è£…å®Œä¹‹åï¼Œå¦‚æœä½ æƒ³çœ‹çœ‹éŸ³é¢‘æ˜¯æ€ä¹ˆæµåŠ¨çš„ï¼ˆç±»ä¼¼äºè¿çº¿ï¼‰ï¼Œå¯ä»¥è£…ä¸ªå›¾å½¢åŒ–å·¥å…·ï¼š sudo pacman -S qpwgraph åœ¨ Sway é‡Œæ‰“å¼€å®ƒï¼Œä½ èƒ½çœ‹åˆ°éå¸¸ç›´è§‚çš„éŸ³é¢‘æ¥çº¿å›¾ã€‚

waybarè‡ªåŠ¨éšè—ï¼ŒèƒŒæ™¯é€æ˜ï¼Œæ˜¾ç¤ºä¿¡æ¯è®¾ç½®

footèƒŒæ™¯é€æ˜

vimè®¾ç½®

å®‰è£…clash-verge-rev-binå¹¶è®¾ç½®

å®‰è£…yay

è®¾ç½®arhlinuxcnåº“

å®‰è£…å„ç§å­—ä½“


